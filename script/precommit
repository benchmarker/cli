#!/usr/bin/env stack
-- stack --resolver lts-16.20 script --package turtle

{-# LANGUAGE OverloadedStrings #-}

import Turtle

-- Assumes current directory is the project root

main :: IO ()
main = do
  let precommitHookFile = fromText ".git/hooks/pre-commit"
  mktree (directory precommitHookFile)
  writeTextFile precommitHookFile "#!/usr/bin/env sh\n\n./script/lint"
  chmod executable precommitHookFile
  echo "Installed precommit hook."
